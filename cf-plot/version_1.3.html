<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>version 1.3 changes &mdash; cf-plot 2.1.34 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1.34',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cf-plot 2.1.34 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">cf-plot 2.1.34 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="version-1-3-changes">
<h1>version 1.3 changes<a class="headerlink" href="#version-1-3-changes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="document-code-changes-in-a-more-detailed-manner">
<h2>1. Document code changes in a more detailed manner<a class="headerlink" href="#document-code-changes-in-a-more-detailed-manner" title="Permalink to this headline">¶</a></h2>
<p>More information is needed on the changes made between versions.  This is useful for both users to see what has changed since the previous version and to track cf-plot development in a more meaningful way.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Changes made for new releases in the versions page from 1.3 forward have their own web page
referenced from the versions page.
</pre></div>
</div>
</div>
<div class="section" id="remove-redundant-init-py-file-from-source-code">
<h2>2. Remove redundant __init__.py file from source code<a class="headerlink" href="#remove-redundant-init-py-file-from-source-code" title="Permalink to this headline">¶</a></h2>
<p>Work out which of the source __init__.py are used for version information and delete the other copy.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>The __init__.py in /home/swsheaps/cfplot.src/cfplot is the one to use, the other copy has been deleted.
</pre></div>
</div>
</div>
<div class="section" id="blockfill-example-now-fails">
<h2>3. Blockfill example now fails<a class="headerlink" href="#blockfill-example-now-fails" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span>In cf-python the isbounded method was renamed to hasbounds.  Changed code to use the new method.
</pre></div>
</div>
</div>
<div class="section" id="gvals-bug">
<h2>4. gvals bug<a class="headerlink" href="#gvals-bug" title="Permalink to this headline">¶</a></h2>
<p>cfp.gvals(dmin=32400, dmax=43200, tight=1, mod=0)</p>
<p>gives</p>
<p>(array([32160, 32830, 33500, 34170, 34840, 35510, 36180, 36850, 37520,
38190, 38860, 39530, 40200, 40870, 41540, 42210, 42880]), 0)</p>
<p>The result shouldn&#8217;t have a value below 32400 and should start at 32400.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Modified gvals routine to not change the step if mod is set to 0.
</pre></div>
</div>
</div>
<div class="section" id="example-7-x-axis-is-labelled-as-degrees-north">
<h2>5. Example 7 x-axis is labelled as degrees_north<a class="headerlink" href="#example-7-x-axis-is-labelled-as-degrees-north" title="Permalink to this headline">¶</a></h2>
<p>The various CF latitude names should be caught and the returned as &#8216;latitude&#8217;</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Fixed.
</pre></div>
</div>
</div>
<div class="section" id="plot-limits-bug">
<h2>6. Plot limits bug<a class="headerlink" href="#plot-limits-bug" title="Permalink to this headline">¶</a></h2>
<p>When plots is made with no user call to gset a zonal mean plot followed by a map plot
gives previous plot limits.  A call of gset() is needed before the call to gclose
in con and vect routines.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Fixed.
</pre></div>
</div>
</div>
<div class="section" id="colour-scales-prevent-cf-plot-being-used-as-a-stand-alone-program">
<h2>7. Colour scales prevent cf-plot being used as a stand-alone program<a class="headerlink" href="#colour-scales-prevent-cf-plot-being-used-as-a-stand-alone-program" title="Permalink to this headline">¶</a></h2>
<p>The code uses a call to cscale to set the colour scales and this requires
that the colour scales are installed in the correct place by the installer.
This prevents the cfplot.py program from being used as a stand-alone program.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>scale1 and cosam colour scales integrated into the program so that cf-plot
can be used in stand-alone mode.
</pre></div>
</div>
</div>
<div class="section" id="revamp-colour-scales-page-to-use-consistent-set-of-images">
<h2>8. Revamp colour scales page to use consistent set of images<a class="headerlink" href="#revamp-colour-scales-page-to-use-consistent-set-of-images" title="Permalink to this headline">¶</a></h2>
<p>The colour scales page had a set of scale images from a variety of sources.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>A new routine called  process_color_scales was written to produce consistent
images and the rst code needed for the colour_scales.rst file.
</pre></div>
</div>
</div>
<div class="section" id="move-up-the-vector-plot-in-the-gallery-so-that-it-is-level-with-the-other-plots">
<h2>9. Move up the vector plot in the gallery so that it is level with the other plots<a class="headerlink" href="#move-up-the-vector-plot-in-the-gallery-so-that-it-is-level-with-the-other-plots" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Moved</span>
</pre></div>
</div>
</div>
<div class="section" id="add-in-code-to-get-verbose-messages">
<h2>10. Add in code to get verbose messages<a class="headerlink" href="#add-in-code-to-get-verbose-messages" title="Permalink to this headline">¶</a></h2>
<p>It is useful for debugging to see what cf-plot is doing as it progresses with making a
plot.  Calling the con routine with verbose=1 gives some basic messages about the progress.
Of greater interest might be the output of the call from con to cf_data_assign.
The cf_data_assign function verbose option lets the user know which parts of CF are being used to
assign the axes names, units and data.</p>
<p>The verbose nature of cf-plot may be expanded beyond this if it is found to be useful.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Verbose code added to con and cf_data_assign
</pre></div>
</div>
</div>
<div class="section" id="tidy-up-contour-routine">
<h2>11. Tidy up contour routine<a class="headerlink" href="#tidy-up-contour-routine" title="Permalink to this headline">¶</a></h2>
<p>Con, the contour routine, needs tidying up, commenting and reordering to make it clearer.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div>
<div class="section" id="batch-mode-processing">
<h2>12. Batch mode processing<a class="headerlink" href="#batch-mode-processing" title="Permalink to this headline">¶</a></h2>
<p>Check cf-plot works in batch mode and modify if not.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>A display check is now made in the cf-plot code and if none is present then the Agg backing
store is used.

The following configuration works on the Reading Met department Linux system.  Need to check why
submitting just the Python script doesn&#39;t work.


/home/swsheaps/ajh.sh:
#!/bin/sh
/home/opt-user/Enthought/Canopy_64bit/User/bin/python /home/swsheaps/ajh.py

/home/swsheaps/ajh.py:
import cf, cfplot as cfp
f=cf.read(&#39;/opt/graphics/cfplot_data/tas_A1.nc&#39;)[0]
cfp.plotvars.file=&#39;/home/swsheaps/ll.png&#39;
cfp.con(f.subspace(time=15))

run the batch job at 16:33:
at -f /home/swsheaps/ajh.sh 16:33
</pre></div>
</div>
</div>
<div class="section" id="process-color-scales-page-doesn-t-appear-as-an-autofunction">
<h2>13. process_color_scales page doesn&#8217;t appear as an autofunction<a class="headerlink" href="#process-color-scales-page-doesn-t-appear-as-an-autofunction" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span>Fixed - need to have the cf-plot reference in the line
.. autofunction:: cf-plot.process_color_scales
</pre></div>
</div>
</div>
<div class="section" id="tidy-up-and-comment-cf-data-assign-data-input-code">
<h2>14. Tidy up and comment cf_data_assign data input code<a class="headerlink" href="#tidy-up-and-comment-cf-data-assign-data-input-code" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div>
<div class="section" id="data-input-documentation-section-needs-revising">
<h2>15. Data input documentation section needs revising<a class="headerlink" href="#data-input-documentation-section-needs-revising" title="Permalink to this headline">¶</a></h2>
<p>The cf_data_assign code rewrite has made the data input documentation out of date.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Data input documentation rewritten.
</pre></div>
</div>
</div>
<div class="section" id="vect-routine-keyword-documentation-incomplete">
<h2>16. Vect routine keyword documentation incomplete<a class="headerlink" href="#vect-routine-keyword-documentation-incomplete" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div>
<div class="section" id="rearrange-order-of-gallery-plots">
<h2>17. Rearrange order of gallery plots<a class="headerlink" href="#rearrange-order-of-gallery-plots" title="Permalink to this headline">¶</a></h2>
<p>Rearrange the order of the gallery plots to make the major plot types more prominent.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

<h3><a href="http://ajheaps.github.io/cf-plot/#">Homepage</a><p></h3>
<h5><a href="http://ajheaps.github.io/cf-plot/gallery.html">Gallery</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/user_guide.html">User Guide</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/data.html">Data input</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/routines.html">Routines</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/internal_routines.html">Routines - internal</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/advanced.html">Advanced Use</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/versions.html">Versions</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/issues.html">Issues</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/download.html">Download/Install</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/license.html">License</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/search.html">Search</a><p></h5>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">cf-plot 2.1.34 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Andy Heaps.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>