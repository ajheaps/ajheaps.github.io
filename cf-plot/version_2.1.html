<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>version 2.1 changes &mdash; cf-plot 2.1.34 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1.34',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cf-plot 2.1.34 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">cf-plot 2.1.34 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="version-2-1-changes">
<h1>version 2.1 changes<a class="headerlink" href="#version-2-1-changes" title="Permalink to this headline">¶</a></h1>
<p>Rolling set of small additions and bug fixes.</p>
<div class="section" id="log-pressure-axis-labelling">
<h2>1. Log pressure axis labelling<a class="headerlink" href="#log-pressure-axis-labelling" title="Permalink to this headline">¶</a></h2>
<p>Log pressure axis labelling was changed from the in-built Matplotlib labelling with used 10^3, 10^2 10^1 to 1000, 10, 1.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="rotated-grid-axis-labelling">
<h2>2. Rotated grid axis labelling<a class="headerlink" href="#rotated-grid-axis-labelling" title="Permalink to this headline">¶</a></h2>
<p>Missing longitude and latitude labels were added to rotated pole plots.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="cscale-uniform-keyword-added">
<h2>3. cscale - uniform keyword added<a class="headerlink" href="#cscale-uniform-keyword-added" title="Permalink to this headline">¶</a></h2>
<p>When a divergent colour scheme is used such as in example 4 in the gallery the default colour scale is stretched
so that blues are below zero and reds above zero.  When the number of colours above and below differ quite markedly
this can give undue emphasis to data by having too strong colours in the above or below zero scale.  A new keyword was
introduced, uniform=True (or False), to address this issue.  The default is now uniform=True for divergent data
contour plots where no user colour scale has been defined:</p>
<a class="reference internal image-reference" href="_images/scale1_new.png"><img alt="_images/scale1_new.png" src="_images/scale1_new.png" style="width: 502.84px; height: 33.28px;" /></a>
<p>Use:</p>
<blockquote>
<div>::    cfp.setvars(cs_uniform=False)</div></blockquote>
<p>to revert to the previous behaviour.</p>
</div>
<div class="section" id="mapset-new-projections-added">
<h2>4. mapset - new projections added<a class="headerlink" href="#mapset-new-projections-added" title="Permalink to this headline">¶</a></h2>
<p>Added Mercator, Lambert Conformal, Orthographic and Robinson projections.  See the Basemap documentation
at <a class="reference external" href="http://matplotlib.org/basemap/users/mapsetup.html">http://matplotlib.org/basemap/users/mapsetup.html</a> for calling parameters.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="lineplot-axis-labelling-renamed">
<h2>5. lineplot - axis labelling renamed<a class="headerlink" href="#lineplot-axis-labelling-renamed" title="Permalink to this headline">¶</a></h2>
<p>xname and yname have been depreciated in favour of xlabel and ylabel.  This change was made to be consistent
with xlabel and ylabel as used in the con and vect routines.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="cropped-area-on-map-lcc-projections">
<h2>6. Cropped area on map lcc projections<a class="headerlink" href="#cropped-area-on-map-lcc-projections" title="Permalink to this headline">¶</a></h2>
<p>Lambert conformal projections can now be cropped as in the following code:</p>
<div class="line-block">
<div class="line">import cf, cfplot as cfp</div>
<div class="line">f=cf.read(&#8216;/opt/graphics/cfplot_data/tas_A1.nc&#8217;)</div>
<div class="line">cfp.mapset(proj=&#8217;lcc&#8217;, lon_0=0, lat_0=50, lat_1=45, lat_2=55, width=12000000,</div>
<div class="line">height=9000000, plimits=[-50, 50, 20, 85])</div>
<div class="line">cfp.con(f.subspace(time=15))</div>
</div>
<a class="reference internal image-reference" href="_images/cm.png"><img alt="_images/cm.png" src="_images/cm.png" style="width: 487.24px; height: 339.04px;" /></a>
<p>For a corresponding southern hemisphere plot use:</p>
<div class="line-block">
<div class="line">cfp.mapset(proj=&#8217;lcc&#8217;, lon_0=0, lat_0=-50, lat_1=-55, lat_2=-45, width=12000000,height=9000000,</div>
<div class="line">plimits=[-50, 50, -85, -20])</div>
</div>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="better-determination-of-up-on-the-z-axis">
<h2>7. Better determination of up on the Z axis<a class="headerlink" href="#better-determination-of-up-on-the-z-axis" title="Permalink to this headline">¶</a></h2>
<p>The CF metadata attribute of postitive for the Z coordinate is now used in the con and lineplot routines.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-colors-option-for-contour-lines">
<h2>9. con - colors option for contour lines<a class="headerlink" href="#con-colors-option-for-contour-lines" title="Permalink to this headline">¶</a></h2>
<p>con - added colors keyword for the contour lines.  This keyword takes a single colour or a list
of colours.  The default is &#8216;k&#8217; or black&#8217;</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-lines-true-now-the-default">
<h2>10. con - lines=True now the default<a class="headerlink" href="#con-lines-true-now-the-default" title="Permalink to this headline">¶</a></h2>
<p>Within con the lines=True parameter is now the default.  This change was made due to the complex and
somewhat obscure logic in the blockfill section of code.  The change will affect blockfill plots
which were previously drawn with no lines using blockfill=True.  The syntax for blockfill with no lines
is now blockfill=True, lines=False.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-colorbar-logic-correction">
<h2>11. con - colorbar logic correction<a class="headerlink" href="#con-colorbar-logic-correction" title="Permalink to this headline">¶</a></h2>
<p>A correction was made to the colorbar logic so that it works properly when fill=False is selected.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="cscale-new-colour-scale-added">
<h2>12. cscale - new colour scale added<a class="headerlink" href="#cscale-new-colour-scale-added" title="Permalink to this headline">¶</a></h2>
<p>A new colour scale was added - brown to blue - BrBG.</p>
</div>
<div class="section" id="stipple-added-edgecolors-keyword">
<h2>13. stipple - added edgecolors keyword<a class="headerlink" href="#stipple-added-edgecolors-keyword" title="Permalink to this headline">¶</a></h2>
<p>The edcolors keyword was added to the stipple routine.  This contrils the border colour of the filled polygon.
Setting it to &#8216;face&#8217; gives the same colour as the filled polygon.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-better-yaxis-labelling-for-hybrid-height-coordinates">
<h2>14. con - better yaxis labelling for hybrid height coordinates<a class="headerlink" href="#con-better-yaxis-labelling-for-hybrid-height-coordinates" title="Permalink to this headline">¶</a></h2>
<p>Better yaxis labelling for hybrid height coordinates.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="lineplot-check-for-a-t-axis-before-accessing-it">
<h2>15. lineplot - check for a &#8216;T&#8217; axis before accessing it<a class="headerlink" href="#lineplot-check-for-a-t-axis-before-accessing-it" title="Permalink to this headline">¶</a></h2>
<p>Check if a cf-field has a &#8216;T&#8217; axis before trying to access it.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="lineplot-check-xlabel-is-not-none-before-accessing-it">
<h2>16. lineplot - check xlabel is not None before accessing it<a class="headerlink" href="#lineplot-check-xlabel-is-not-none-before-accessing-it" title="Permalink to this headline">¶</a></h2>
<p>Check if xlabel is not None before trying to access it.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="lineplot-generate-a-more-correct-set-of-yticks-if-yrange-1">
<h2>17. lineplot - Generate a more correct set of yticks if yrange &lt; 1<a class="headerlink" href="#lineplot-generate-a-more-correct-set-of-yticks-if-yrange-1" title="Permalink to this headline">¶</a></h2>
<p>Generate a more correct set of yticks if yrange &lt; 1.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-blockfill-code-correction-for-masked-arrays">
<h2>18. con - blockfill code correction for masked arrays<a class="headerlink" href="#con-blockfill-code-correction-for-masked-arrays" title="Permalink to this headline">¶</a></h2>
<p>In con the blockfill code was updated to correct an error when plotting masked arrays.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="mapaxis-change-labeling-in-cylindrical-projection">
<h2>19. mapaxis - change labeling in cylindrical projection<a class="headerlink" href="#mapaxis-change-labeling-in-cylindrical-projection" title="Permalink to this headline">¶</a></h2>
<p>Change labels returned by mapaxis as below.</p>
<p>180, 120W, 60W, 0, 60E, 120E, 180</p>
<p>to</p>
<p>180W, 120W, 60W, 0, 60E, 120E, 180E</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-hovmuller-user-axis-labeling">
<h2>20. con -  Hovmuller user axis labeling<a class="headerlink" href="#con-hovmuller-user-axis-labeling" title="Permalink to this headline">¶</a></h2>
<p>Hovmuller user axis labeling wasn&#8217;t working.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="setvars-a-master-title-for-multi-panel-plots">
<h2>21. setvars -  A master title for multi-panel plots<a class="headerlink" href="#setvars-a-master-title-for-multi-panel-plots" title="Permalink to this headline">¶</a></h2>
<p>Added a master title for multi-panel plots to the setvars routine.</p>
<p>master_title=None - master title text
master_title_location=None - master title location
master_title_fontsize=None - master title font size
master_title_fontweight=None - master title font weight</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-missing-colorbar-annotation-with-ptype-1">
<h2>22. con -  Missing colorbar annotation with ptype=1<a class="headerlink" href="#con-missing-colorbar-annotation-with-ptype-1" title="Permalink to this headline">¶</a></h2>
<p>When making a contour plot with cfp.con(f=f, x=x, y=y, ptype=1) the default
contour scaling was omitted from the colorbar label.  This has now been added.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="vect-missing-longitude-height-vectors">
<h2>23. vect - missing longitude-height vectors<a class="headerlink" href="#vect-missing-longitude-height-vectors" title="Permalink to this headline">¶</a></h2>
<p>Longitude-height vector code was missing.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-map-colorbar-labelling-issue">
<h2>24. con - map colorbar labelling issue<a class="headerlink" href="#con-map-colorbar-labelling-issue" title="Permalink to this headline">¶</a></h2>
<p>In certain circumstances the colourbar labeling in a map plot was in correct.
Using the string of the colorbar labels produces the correct results.</p>
<p>cbar.set_ticklabels([str(i) for i in colorbar_labels])</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-blockfill-incorrect-for-very-tight-contour-ranges">
<h2>25. con - blockfill incorrect for very tight contour ranges<a class="headerlink" href="#con-blockfill-incorrect-for-very-tight-contour-ranges" title="Permalink to this headline">¶</a></h2>
<p>When the data range is very small the blockfill contour scheme miscalculated the upper bound for
the data.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="timeaxis-code-change">
<h2>26. timeaxis - code change<a class="headerlink" href="#timeaxis-code-change" title="Permalink to this headline">¶</a></h2>
<p>The minimum and maximum years were not calculated due to some faulty logic.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="mapset-documentation-improved">
<h2>27. mapset - documentation improved<a class="headerlink" href="#mapset-documentation-improved" title="Permalink to this headline">¶</a></h2>
<p>The documentation for mapset in the routine in the user guide was improved to make it flow better
and include recent map additions.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="gset-ylog-true-now-feeds-through-to-contour-plots">
<h2>28. gset - ylog=True now feeds through to contour plots<a class="headerlink" href="#gset-ylog-true-now-feeds-through-to-contour-plots" title="Permalink to this headline">¶</a></h2>
<p>The 2.0 code base changes removed the ylog=True feed through to contour plotting.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="lineplot-cf-field-incorrectly-plotted">
<h2>29. lineplot - CF field incorrectly plotted<a class="headerlink" href="#lineplot-cf-field-incorrectly-plotted" title="Permalink to this headline">¶</a></h2>
<p>When plotting a CF field with a Z axis the data wasn&#8217;t correctly plotted</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-blockfill-rewritten">
<h2>30. con - blockfill rewritten<a class="headerlink" href="#con-blockfill-rewritten" title="Permalink to this headline">¶</a></h2>
<p>Blockfill plots in the con routine were rewitten to use PolyCollection from matplotlib.collections rather than
pcolormesh.  The new method allows better control of the various colorbar extension behaviour and data masking.
It is slower for larger grids than pcolormesh but more accurate.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-blockfill-for-map-plots-other-than-cylindrical-projection">
<h2>31. con - blockfill for map plots other than cylindrical projection<a class="headerlink" href="#con-blockfill-for-map-plots-other-than-cylindrical-projection" title="Permalink to this headline">¶</a></h2>
<p>Blockfill for map plots other than the cylindrical projection was implemented. Trim the data to the required
map limits to avoid them being plotted.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="axes-user-defined-axes">
<h2>32. axes - user defined axes<a class="headerlink" href="#axes-user-defined-axes" title="Permalink to this headline">¶</a></h2>
<p>Axes defined with the axes command should feed through to con, vect and lineplot.  The priority order of axis
labeling in order of preference is:
1) user passed to routine
2) user defined by axes command
3) labels generated internally</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="con-ability-to-swap-axes-for-hovmuller-plots">
<h2>33. con - ability to swap axes for hovmuller plots<a class="headerlink" href="#con-ability-to-swap-axes-for-hovmuller-plots" title="Permalink to this headline">¶</a></h2>
<p>In Hovmuller plots sometimes the axes are show as time vs longitude or latitude.  The swap_axes keyword
was added to con to facilitate this.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</div>
<div class="section" id="con-blockfill-produces-an-error-for-bounded-data-in-hovmuller-plots">
<h2>34. con - blockfill produces an error for bounded data in Hovmuller plots<a class="headerlink" href="#con-blockfill-produces-an-error-for-bounded-data-in-hovmuller-plots" title="Permalink to this headline">¶</a></h2>
<p>The data bounds passed for Hovmuller blockfill plots were incorrect.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

<h3><a href="http://ajheaps.github.io/cf-plot/#">Homepage</a><p></h3>
<h5><a href="http://ajheaps.github.io/cf-plot/gallery.html">Gallery</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/user_guide.html">User Guide</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/data.html">Data input</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/routines.html">Routines</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/internal_routines.html">Routines - internal</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/advanced.html">Advanced Use</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/versions.html">Versions</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/issues.html">Issues</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/download.html">Download/Install</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/license.html">License</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/search.html">Search</a><p></h5>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">cf-plot 2.1.34 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Andy Heaps.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>