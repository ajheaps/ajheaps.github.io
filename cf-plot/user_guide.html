
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>cf-plot user guide &#8212; cf-plot 2.4.8 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">cf-plot 2.4.8 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cf-plot-user-guide">
<h1>cf-plot user guide<a class="headerlink" href="#cf-plot-user-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://ajheaps.github.io/cf-plot/#">cf-plot</a>  is a set of Python routines for making the common contour, vector and line plots that climate researchers use. cf-plot generally uses <a class="reference external" href="https://cfpython.bitbucket.io">cf-python</a> to present the data and CF attributes for plotting as two-dimensional data fields.
To run the following examples in the Met department at the University of Reading setup the Python path with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span> <span class="n">canopy</span>
</pre></div>
</div>
<p>Outside of the Meteorology department you’ll need to follow the <a class="reference external" href="http://ajheaps.github.io/cf-plot/download.html">cf-plot installation instructions</a></p>
</div>
<div class="section" id="using-cf-plot">
<h2>Using cf-plot<a class="headerlink" href="#using-cf-plot" title="Permalink to this headline">¶</a></h2>
<p>The data to make a contour plot can be read in and passed to cf-plot using cf-python as per the following example.</p>
</div>
<div class="section" id="cylindrical-projection">
<h2>Cylindrical projection<a class="headerlink" href="#cylindrical-projection" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig1.png"><img alt="_images/fig1.png" src="_images/fig1.png" style="width: 514.28px; height: 314.08px;" /></a>
<p>The <strong>mapset</strong> routine is used to change the map area and projection.
<strong>cfp.mapset(lonmin=-15, lonmax=3, latmin=48, latmax=60)</strong> sets the map to a view over the British Isles. Further plots will use the same map projection and limits.  The levels are taken from the whole field so in this example we specify the levels explicitly with the <strong>levs</strong> command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">lonmin</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span> <span class="n">lonmax</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">latmin</span><span class="o">=</span><span class="mi">48</span><span class="p">,</span> <span class="n">latmax</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">265</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">285</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig3.png"><img alt="_images/fig3.png" src="_images/fig3.png" style="width: 487.24px; height: 343.2px;" /></a>
<p>The default settings are for colour fill and contour lines.  These can be changed with the <strong>fill=0</strong> and <strong>lines=0</strong> flags to <strong>con</strong>.</p>
<p>To reset the mapping to the default cylindrical projection -180 to 180 in longitude and -90 to 90 in latitude use <strong>cfp.mapset()</strong>.</p>
</div>
<div class="section" id="blockfill-plots">
<h2>Blockfill plots<a class="headerlink" href="#blockfill-plots" title="Permalink to this headline">¶</a></h2>
<p>Blockfill plots in the cylindrical projection are made using the <strong>blockfill=True</strong> flag to the <strong>con</strong> routine.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="n">blockfill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig2.png"><img alt="_images/fig2.png" src="_images/fig2.png" style="width: 514.28px; height: 314.08px;" /></a>
<p>Blockfill is only supported in the cylindrical projection and non-map plots at present.</p>
</div>
<div class="section" id="polar-stereographic-plots">
<h2>Polar stereographic plots<a class="headerlink" href="#polar-stereographic-plots" title="Permalink to this headline">¶</a></h2>
<p>Polar Stereographic plots are set using <strong>proj=’npstere’</strong> or <strong>proj=’spstere’</strong> in the call to <strong>mapset</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">proj</span><span class="o">=</span><span class="s1">&#39;npstere&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig4.png"><img alt="_images/fig4.png" src="_images/fig4.png" style="width: 450.32px; height: 390.52px;" /></a>
<p>The <strong>mapset</strong> <strong>bounding_lat</strong> and <strong>lon_0</strong> parameters are used to set the latitude limit of the plot and the orientation of the plot. Generally for the southern hemisphere the Greenwich Meridian (zero degrees longitude) is plotted at the top of the plot and is set with <strong>lon_0=0</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">proj</span><span class="o">=</span><span class="s1">&#39;spstere&#39;</span><span class="p">,</span> <span class="n">boundinglat</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="n">lon_0</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig5.png"><img alt="_images/fig5.png" src="_images/fig5.png" style="width: 448.76px; height: 387.4px;" /></a>
</div>
<div class="section" id="passing-data-to-cf-plot">
<h2>Passing data to cf-plot<a class="headerlink" href="#passing-data-to-cf-plot" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="using-cf-python-cf-compliant-data">
<h2>Using cf-python - CF compliant data<a class="headerlink" href="#using-cf-python-cf-compliant-data" title="Permalink to this headline">¶</a></h2>
<p>Data is generally passed to cf-plot for ploting via cf-python.  Contour and vector plots require a 2-dimensional field.  cf-python is very flexible and can be used to select fields, levels, times, means for both CF and non-CF compliant data.
CF  data is data that follows  the NetCDF Climate and Forecast (CF) Metadata Conventions.  The conventions define metadata that provide a definitive description of what the data in each variable represents, and of the spatial and temporal properties of the data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>f is now an list of 4 fields.</p>
<div class="line-block">
<div class="line">[&lt;CF Field: air_temperature(time(1), pressure(23), latitude(160), longitude(320)) K&gt;,</div>
<div class="line-block">
<div class="line">&lt;CF Field: eastward_wind(time(1), pressure(23), latitude(160), longitude(320)) m s**-1&gt;,</div>
<div class="line">&lt;CF Field: geopotential(time(1), pressure(23), latitude(160), longitude(320)) m**2 s**-2&gt;,</div>
<div class="line">&lt;CF Field: northward_wind(time(1), pressure(23), latitude(160), longitude(320)) m s**-1&gt;]</div>
</div>
</div>
<p>To see what levels are available in the data use <strong>f[0].item(‘pressure’).array</strong></p>
<div class="line-block">
<div class="line">array([ 1000.,   925.,   850.,   775.,   700.,   600.,   500.,   400.,</div>
<div class="line">300.,   250.,   200.,   150.,   100.,    70.,    50.,    30.,</div>
<div class="line">20.,    10.,     7.,     5.,     3.,     2.,     1.], dtype=float32)</div>
</div>
<p>In the case below we select the 500mb temperature with the cf subspace method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">&lt;CF Field: air_temperature(time(1), pressure(1), latitude(160), longitude(320)) K&gt;</div>
</div>
<p>and contour the data</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/guide1.png"><img alt="_images/guide1.png" src="_images/guide1.png" style="width: 514.28px; height: 313.04px;" /></a>
<p>To mean the field use the cf collapse function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">&lt;CF Field: air_temperature(time(1), pressure(23), latitude(160), longitude(1)) K&gt;</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/guide2.png"><img alt="_images/guide2.png" src="_images/guide2.png" style="width: 530.92px; height: 341.64px;" /></a>
</div>
<div class="section" id="using-cf-plot-with-non-cf-compliant-data">
<h2>Using cf-plot with non-cf compliant data<a class="headerlink" href="#using-cf-plot-with-non-cf-compliant-data" title="Permalink to this headline">¶</a></h2>
<p>Although newer model and reanalyis products are generally cf compliant there is a considerable amount of data being used that is of varying degrees of cf compliance.</p>
<p>In this locally processed ERA40 reanalysis field there is a distinct lack of standard names. Even the long names are somewhat terse - p for pressure for example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">f</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">&lt;CF Field: geopotential(time(1), pressure(23), latitude(160), longitude(320)) m**2 s**-2&gt;</div>
</div>
<p>We can still slice and plot the data by inspecting the dimensions of the field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">{‘dim2’: &lt;CF DimensionCoordinate: latitude(160) degrees_north&gt;,</div>
<div class="line">‘dim3’: &lt;CF DimensionCoordinate: longitude(320) degrees_east&gt;,</div>
<div class="line">‘dim0’: &lt;CF DimensionCoordinate: time(1) days since 1964-01-21 00:00:00&gt;,</div>
<div class="line">‘dim1’: &lt;CF DimensionCoordinate: pressure(23) mbar&gt;}</div>
</div>
<p>We see that dim1 is the pressure coordinate and can select the 700mb level and contour that.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="s1">&#39;dim1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">array</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">array([ 1000.,   925.,   850.,   775.,   700.,   600.,   500.,   400.,</div>
<div class="line">300.,   250.,   200.,   150.,   100.,    70.,    50.,    30.,</div>
<div class="line">20.,    10.,     7.,     5.,     3.,     2.,     1.], dtype=float32)</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">dim1</span><span class="o">=</span><span class="mi">700</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">&lt;CF Field: geopotential(time(1), pressure(1), latitude(160), longitude(320)) m**2 s**-2&gt;</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">dim1</span><span class="o">=</span><span class="mi">700</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/guide3.png"><img alt="_images/guide3.png" src="_images/guide3.png" style="width: 514.28px; height: 314.08px;" /></a>
<p>In the following dataset there are neither standard nor long names to identify the data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/gdata.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">&lt;CF Field: ncvar:temp(ncvar:p(22), ncvar:lat(73), ncvar:lon(145)) &gt;</div>
</div>
<p>We can still slice and plot the data as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">{‘dim2’: &lt;CF DimensionCoordinate: ncvar:lon(145)&gt;,</div>
<div class="line">‘dim0’: &lt;CF DimensionCoordinate: ncvar:p(22)&gt;,</div>
<div class="line">‘dim1’: &lt;CF DimensionCoordinate: ncvar:lat(73)&gt;}</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="s1">&#39;dim0&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">array</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">array([1.00e+03, 7.00e+02, 5.00e+02, 3.20e+02, 2.15e+02, 1.50e+02,</div>
<div class="line-block">
<div class="line">1.00e+02, 7.00e+01, 5.00e+01, 3.20e+01, 2.00e+01, 1.50e+01,</div>
<div class="line">1.00e+01, 7.00e+00, 5.00e+00, 3.20e+00, 2.00e+00, 1.50e+00,</div>
<div class="line">1.00e+00, 7.00e-01, 5.00e-01, 3.00e-01], dtype=float32)</div>
</div>
</div>
<p>So to plot the 1000mb temperature we would use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">dim0</span><span class="o">=</span><span class="mi">1000</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/guide4.png"><img alt="_images/guide4.png" src="_images/guide4.png" style="width: 608.4px; height: 431.6px;" /></a>
</div>
<div class="section" id="passing-data-via-arrays">
<h2>Passing data via arrays<a class="headerlink" href="#passing-data-via-arrays" title="Permalink to this headline">¶</a></h2>
<p>cf-plot can also make contour and vector plots by passing data arrays. In this example we read in a temperature field from a netCDF file and pass it to cf-plot for plotting.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="kn">from</span> <span class="nn">netCDF4</span> <span class="k">import</span> <span class="n">Dataset</span> <span class="k">as</span> <span class="n">ncfile</span>
<span class="n">nc</span> <span class="o">=</span> <span class="n">ncfile</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)</span>
<span class="n">lons</span><span class="o">=</span><span class="n">nc</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">][:]</span>
<span class="n">lats</span><span class="o">=</span><span class="n">nc</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">][:]</span>
<span class="n">temp</span><span class="o">=</span><span class="n">nc</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;tas&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,:,:]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">temp</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">lons</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">lats</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/guide5.png"><img alt="_images/guide5.png" src="_images/guide5.png" style="width: 518.44px; height: 327.08px;" /></a>
<p>The contouring routine doesn’t know that the data passed is a map plot as the only information passed is data arrays. This can be explicitly set with the <strong>ptype</strong> flag to <strong>con</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">temp</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">lons</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">lats</span><span class="p">,</span> <span class="n">ptype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/guide6.png"><img alt="_images/guide6.png" src="_images/guide6.png" style="width: 514.28px; height: 298.48px;" /></a>
<p>Other types of plot are:</p>
<div class="line-block">
<div class="line"><strong>ptype=2</strong> - latitude - height plot</div>
<div class="line"><strong>ptype=3</strong>  - longitude – height plot</div>
<div class="line"><strong>ptype=4</strong> - longitude - time plot</div>
<div class="line"><strong>ptype=5</strong> - latitude - time plot</div>
<div class="line"><strong>ptype=6</strong> - rotated pole plot</div>
<div class="line"><strong>ptype=7</strong> - time - height plot</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="section" id="latitude-pressure-plots">
<h3>Latitude - Pressure Plots<a class="headerlink" href="#latitude-pressure-plots" title="Permalink to this headline">¶</a></h3>
<p>The latitude-pressure plot below is made by using the cf subspace method to select the temperature at longitude=0 degrees.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/guide7.png"><img alt="_images/guide7.png" src="_images/guide7.png" style="width: 530.92px; height: 341.64px;" /></a>
<p>A mean of the data along the longitude (zonal mean) is made using the cf.collapse method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig7.png"><img alt="_images/fig7.png" src="_images/fig7.png" style="width: 532.48px; height: 342.16px;" /></a>
<p>To make a log pressure on the y axis use the ylog=True flag to the con routine.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">),</span> <span class="n">ylog</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig8.png"><img alt="_images/fig8.png" src="_images/fig8.png" style="width: 532.48px; height: 342.16px;" /></a>
</div>
<div class="section" id="hovmuller-plots">
<h3>Hovmuller plots<a class="headerlink" href="#hovmuller-plots" title="Permalink to this headline">¶</a></h3>
<p>A Hovmuller plot is one of longitude or latitude versus time as per the following examples.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;plasma&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">lines</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig10.png"><img alt="_images/fig10.png" src="_images/fig10.png" style="width: 530.92px; height: 341.64px;" /></a>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gset</span><span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;1960-1-1&#39;</span><span class="p">,</span> <span class="s1">&#39;1980-1-1&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">280</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">305</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;plasma&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">lines</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig11.png"><img alt="_images/fig11.png" src="_images/fig11.png" style="width: 530.4px; height: 342.16px;" /></a>
</div>
<div class="section" id="vector-plots">
<h3>Vector Plots<a class="headerlink" href="#vector-plots" title="Permalink to this headline">¶</a></h3>
<p>Vector plots are made using the <strong>vect</strong> routine.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)</span>
<span class="n">u</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">v</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">vect</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">key_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig13.png"><img alt="_images/fig13.png" src="_images/fig13.png" style="width: 528.32px; height: 310.44px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>In this example vectors are overlaid on a contour plot.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)</span>
<span class="n">u</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">v</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gopen</span><span class="p">()</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">lonmin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lonmax</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">latmin</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="n">latmax</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">254</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">vect</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">key_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gclose</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig14.png"><img alt="_images/fig14.png" src="_images/fig14.png" style="width: 516.88px; height: 336.44px;" /></a>
<p>Here we make a zonal mean vector plot with different vector keys and scaling factors for the X and Y directions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>

<span class="n">c</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/vaAMIPlcd_DJF.nc&#39;</span><span class="p">)</span>
<span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">Y</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">wi</span><span class="p">(</span><span class="o">-</span><span class="mi">60</span><span class="p">,</span><span class="mi">60</span><span class="p">))</span>
<span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">wi</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="mi">160</span><span class="p">))</span>
<span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;T: mean X: mean&#39;</span><span class="p">)</span>

<span class="n">g</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/wapAMIPlcd_DJF.nc&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">Y</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">wi</span><span class="p">(</span><span class="o">-</span><span class="mi">60</span><span class="p">,</span><span class="mi">60</span><span class="p">))</span>
<span class="n">g</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">wi</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="mi">160</span><span class="p">))</span>
<span class="n">g</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;T: mean X: mean&#39;</span><span class="p">)</span>

<span class="n">cfp</span><span class="o">.</span><span class="n">vect</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> <span class="n">v</span><span class="o">=-</span><span class="n">g</span><span class="p">,</span> <span class="n">key_length</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span> <span class="n">stride</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">headwidth</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
         <span class="n">headlength</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">headaxislength</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pivot</span><span class="o">=</span><span class="s1">&#39;middle&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;DJF&#39;</span><span class="p">,</span> <span class="n">key_location</span><span class="o">=</span><span class="p">[</span><span class="mf">0.95</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.05</span><span class="p">])</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig16.png"><img alt="_images/fig16.png" src="_images/fig16.png" style="width: 463.32px; height: 352.0px;" /></a>
</div>
<div class="section" id="multiple-plots-on-a-page">
<h3>Multiple Plots on a Page<a class="headerlink" href="#multiple-plots-on-a-page" title="Permalink to this headline">¶</a></h3>
<p>To make multiple plots on the page open a graphic file with the gopen command and pass the rows and columns parameters. Make each plot in turn first selecting the position with the gpos command.  The first position is the top left plot and increases by one for one plot to the right until the final plot is made in the bottom right. When all the plots have been made close the plot with the <strong>gclose()</strong> command.  A combined colrbar is also made helping to reduce the plot complexity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">cfp</span><span class="o">.</span><span class="n">gopen</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gpos</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gpos</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">proj</span><span class="o">=</span><span class="s1">&#39;moll&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gpos</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">proj</span><span class="o">=</span><span class="s1">&#39;npstere&#39;</span><span class="p">,</span> <span class="n">boundinglat</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">lon_0</span><span class="o">=</span><span class="mi">180</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gpos</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">proj</span><span class="o">=</span><span class="s1">&#39;spstere&#39;</span><span class="p">,</span> <span class="n">boundinglat</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="n">lon_0</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">500</span><span class="p">),</span> <span class="n">colorbar_position</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">],</span> <span class="n">colorbar_orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gclose</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig19.png"><img alt="_images/fig19.png" src="_images/fig19.png" style="width: 502.84px; height: 367.64px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="stipple-plots">
<h3>Stipple plots<a class="headerlink" href="#stipple-plots" title="Permalink to this headline">¶</a></h3>
<p>A stipple plot is usually used to show areas of significance. These plots use the overlay technique as used in the previous contour/vector plot.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">g</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gopen</span><span class="p">()</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;magma&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">stipple</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">g</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">220</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">260</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#00ff00&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">stipple</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">g</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">330</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#0000ff&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gclose</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig17.png"><img alt="_images/fig17.png" src="_images/fig17.png" style="width: 514.28px; height: 314.08px;" /></a>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">g</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gopen</span><span class="p">()</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">proj</span><span class="o">=</span><span class="s1">&#39;npstere&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;magma&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">stipple</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">g</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">265</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">295</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#00ff00&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gclose</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig18.png"><img alt="_images/fig18.png" src="_images/fig18.png" style="width: 451.36px; height: 383.24px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="graph-plots">
<h3>Graph plots<a class="headerlink" href="#graph-plots" title="Permalink to this headline">¶</a></h3>
<p>To make a graph plot use the cf-plot lineplot function as below on a single line of data in a field.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">g</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;X: mean&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>\
             <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Zonal mean zonal wind at 100mb&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig27.png"><img alt="_images/fig27.png" src="_images/fig27.png" style="width: 520.52px; height: 403.52px;" /></a>
<div class="line-block">
<div class="line">Other valid markers are:</div>
<div class="line">‘.’ point</div>
<div class="line">‘,’ pixel</div>
<div class="line">‘o’ circle</div>
<div class="line">‘v’ triangle_down</div>
<div class="line">‘^’ triangle_up</div>
<div class="line">‘&lt;’ triangle_left</div>
<div class="line">‘&gt;’ triangle_right</div>
<div class="line">‘1’ tri_down</div>
<div class="line">‘2’ tri_up</div>
<div class="line">‘3’ tri_left</div>
<div class="line">‘4’ tri_right</div>
<div class="line">‘8’ octagon</div>
<div class="line">‘s’ square</div>
<div class="line">‘p’ pentagon</div>
<div class="line">‘*’ star</div>
<div class="line">‘h’ hexagon1</div>
<div class="line">‘H’ hexagon2</div>
<div class="line">‘+’ plus</div>
<div class="line">‘x’ x</div>
<div class="line">‘D’ diamond</div>
<div class="line">‘d’ thin_diamond</div>
</div>
<p>To make a multiple line plot use the gopen, gclose commands to enclose the plotting commands as in the example below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">g</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;X: mean&#39;</span><span class="p">)</span>
<span class="n">xticks</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span><span class="o">-</span><span class="mi">75</span><span class="p">,</span><span class="o">-</span><span class="mi">60</span><span class="p">,</span><span class="o">-</span><span class="mi">45</span><span class="p">,</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">90</span><span class="p">]</span>
<span class="n">xticklabels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;90S&#39;</span><span class="p">,</span><span class="s1">&#39;75S&#39;</span><span class="p">,</span><span class="s1">&#39;60S&#39;</span><span class="p">,</span><span class="s1">&#39;45S&#39;</span><span class="p">,</span><span class="s1">&#39;30S&#39;</span><span class="p">,</span><span class="s1">&#39;15S&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;15N&#39;</span><span class="p">,</span><span class="s1">&#39;30N&#39;</span><span class="p">,</span><span class="s1">&#39;45N&#39;</span><span class="p">,</span><span class="s1">&#39;60N&#39;</span><span class="p">,</span><span class="s1">&#39;75N&#39;</span><span class="p">,</span><span class="s1">&#39;90N&#39;</span><span class="p">]</span>
<span class="n">xpts</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">]</span>
<span class="n">ypts</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">]</span>

<span class="n">cfp</span><span class="o">.</span><span class="n">gset</span><span class="p">(</span><span class="n">xmin</span><span class="o">=-</span><span class="mi">90</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gopen</span><span class="p">()</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>\
          <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Zonal mean zonal wind&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;100mb&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">200</span><span class="p">),</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>\
             <span class="n">label</span><span class="o">=</span><span class="s1">&#39;200mb&#39;</span><span class="p">,</span> <span class="n">xticks</span><span class="o">=</span><span class="n">xticks</span><span class="p">,</span> <span class="n">xticklabels</span><span class="o">=</span><span class="n">xticklabels</span><span class="p">,</span>\
             <span class="n">legend_location</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">plotvars</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xpts</span><span class="p">,</span><span class="n">ypts</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">plotvars</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Region of interest&#39;</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gclose</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/fig28.png"><img alt="_images/fig28.png" src="_images/fig28.png" style="width: 528.84px; height: 403.52px;" /></a>
</div>
<div class="section" id="setting-contour-levels">
<h3>Setting Contour Levels<a class="headerlink" href="#setting-contour-levels" title="Permalink to this headline">¶</a></h3>
<p>cf-plot generally does a reasonable job of setting appropriate contour levels.  In the cases where it doesn’t do this or you need a consistent set of levels between plots for comparison purposes use the levs routine.
The levs command manually sets the contour levels.</p>
<div class="line-block">
<div class="line"><strong>min=min</strong> - minimum level</div>
<div class="line"><strong>max=max</strong> - maximum level</div>
<div class="line"><strong>step=step</strong> - step between levels</div>
<div class="line"><strong>manual= manual</strong> - set levels manually</div>
<div class="line"><strong>extend=’neither’, ‘both’, ‘min’, or ‘max’</strong> – the colour bar limit extensions. These are the triangles at the ends of the colour bar indicating the rest of the data is in this colour.</div>
</div>
<p>Use the <strong>levs</strong> command when a predefined set of levels is required. The <strong>min, max and step</strong> parameters are all needed to define a set of levels. These can take integer or floating point numbers. If colour filled contours are plotted then the default is to extend the minimum and maximum contours coloured for out of range values - extend=’both’. Use the manual option to define a set of uneven contours i.e.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="n">manual</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
<p>Once a user call is made to levs the levels are persistent. i.e. the next plot will use the same set of levels. Use <strong>levs()</strong> to reset to undefined levels i.e. let cf-plot generate the levels again.
Once the levs command is used you’ll need to think about the associated colour scale.</p>
</div>
<div class="section" id="colour-scales">
<h3>Colour scales<a class="headerlink" href="#colour-scales" title="Permalink to this headline">¶</a></h3>
<p>There are around 140 colour scales included with cf-plot. Colour scales are set with the cscale command. There are two default colour scales that suit differing types of data.</p>
<p>A continuous scale (‘viridis’) that goes from blue to green and then yellow and suits data that has no zero in it.  For example air temperature in Kelvin or geopotential height - see example 1.</p>
<p>A diverging scale (‘scale1’) that goes from blue to red and suits data with a zero in it.  For example temperature in Celsius or zonal wind - see example 4.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">80</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;scale1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cs1.png"><img alt="_images/cs1.png" src="_images/cs1.png" style="width: 502.32px; height: 26.0px;" /></a>
<p>If no call has been made to adjust the colour scale then continuous and diverging colour scales are self adjusting to fit the number of levels automatically generated by cf-plot or specified by the user with the <strong>levs</strong> command.  This behaviour is also followed for a simple call to <strong>cscale</strong> specifying a different colour scale - for example <strong>cfp.cscale(‘radar’)</strong> to select the radar colour scheme.</p>
<p>If a call to <strong>cscale</strong> specifies additional parameters to the colour scale, then the automatic colour adjustment is turned off giving the user fine tuning of colours as below.</p>
<p>To change the number of colours in a scale use the ncols parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;scale1&#39;</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cs2.png"><img alt="_images/cs2.png" src="_images/cs2.png" style="width: 502.32px; height: 26.0px;" /></a>
<p>To change the number of colours above and below the mid-point of the scale use the above and below parameters. This is useful for fields where you have differing extents of data above and below the zero line.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;scale1&#39;</span><span class="p">,</span> <span class="n">below</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">above</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cs3.png"><img alt="_images/cs3.png" src="_images/cs3.png" style="width: 502.32px; height: 26.0px;" /></a>
<p>For data where you need white to indicate that this data region is insignificant use the white=white parameter. This can take single or multiple values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;scale1&#39;</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">white</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">levs</span><span class="p">(</span><span class="n">manual</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cs4.png"><img alt="_images/cs4.png" src="_images/cs4.png" style="width: 502.32px; height: 26.0px;" /></a>
<p>To reverse a colour scale use the <strong>reverse=True</strong> option to <strong>cscale</strong> and specify the number of colours required.</p>
<p><strong>cfp.cscale(‘viridis’, reverse=True, ncols=17)</strong></p>
</div>
</div>
<div class="section" id="producing-a-uniform-colour-scale">
<h2>Producing a ‘uniform’ colour scale<a class="headerlink" href="#producing-a-uniform-colour-scale" title="Permalink to this headline">¶</a></h2>
<p>The uniform parameter may be of use when using a set of contour levels where there is wide mismatch between the
above and below numbers.</p>
<p>uniform = False - produce a uniform colour scale.
For example: if below=3 and above=10 are specified then initially below=10 and above=10 are used. The
colour scale is then cropped to use scale colours 6 to 19.  This produces a more uniform intensity colour
scale than one where all the blues are compressed into 3 colours.</p>
</div>
<div class="section" id="user-defined-colour-scales">
<h2>User defined colour scales<a class="headerlink" href="#user-defined-colour-scales" title="Permalink to this headline">¶</a></h2>
<p>Colour scales are stored as red green blue values on a scale of 0 to 255. Put these in a file with one red green blue value per line. i.e.</p>
<div class="line-block">
<div class="line">255 0   0</div>
<div class="line">255 255 255</div>
<div class="line">0   0   255</div>
</div>
<p>will give a red white blue colour scale. If the file is saved as /home/swsheaps/rwb.txt it is read in using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;/home/swsheaps/rwb.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If the colour scale selected has too few colours for the number of contour levels then the colours will be used cyclically.</p>
</div>
<div class="section" id="changing-colours-in-a-colour-scale">
<h2>Changing colours in a colour scale<a class="headerlink" href="#changing-colours-in-a-colour-scale" title="Permalink to this headline">¶</a></h2>
<p>The simplest way to do this without writing any code is to modify the internal colour scale before plotting.  The colours most people work with are stored as red green blue intensities on a scale of 0 to 255, with 0 being no intesity and 255 full intensity.</p>
<p>White will be represented as 255 255 255 and black as 0 0 0</p>
<p>The internal colour scale is stored in cfp.plotvars.cs as hexadecimal code.  To convert from decimal to hexadecimal use hex i.e.
hex(255)[2:]
‘ff’</p>
<p>The [2:] is to get rid of the preceding 0x in the hex output.</p>
<p>for example to make one of the colours in the viridis colour scale grey use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">cscale</span><span class="p">(</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">17</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">plotvars</span><span class="o">.</span><span class="n">cs</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#a6a6a6&#39;</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="predefined-colour-scales">
<h2>Predefined colour scales<a class="headerlink" href="#predefined-colour-scales" title="Permalink to this headline">¶</a></h2>
<p>A lot of the following colour maps were downloaded from the NCAR Command Language web site. Users of the IDL guide colour maps can see these maps at the end of the colour scales.</p>
</div>
<div class="section" id="perceptually-uniform-colour-scales">
<h2>Perceptually uniform colour scales<a class="headerlink" href="#perceptually-uniform-colour-scales" title="Permalink to this headline">¶</a></h2>
<p>A selection of perceptually uniform colour scales for contouring data without a zero in. See <a class="reference external" href="http://www.climate-lab-book.ac.uk/2014/end-of-the-rainbow">The end of the rainbow</a> and <a class="reference external" href="http://bids.github.io/colormap">Matplotlib colour maps</a> for a good discussion on colour scales, colour blindness and uniform colour scales.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Scale</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>viridis</td>
<td><img alt="_images/viridis.png" class="first last" src="_images/viridis.png" />
</td>
</tr>
<tr class="row-odd"><td>magma</td>
<td><img alt="_images/magma.png" class="first last" src="_images/magma.png" />
</td>
</tr>
<tr class="row-even"><td>inferno</td>
<td><img alt="_images/inferno.png" class="first last" src="_images/inferno.png" />
</td>
</tr>
<tr class="row-odd"><td>plasma</td>
<td><img alt="_images/plasma.png" class="first last" src="_images/plasma.png" />
</td>
</tr>
<tr class="row-even"><td>parula</td>
<td><img alt="_images/parula.png" class="first last" src="_images/parula.png" />
</td>
</tr>
<tr class="row-odd"><td>gray</td>
<td><img alt="_images/gray.png" class="first last" src="_images/gray.png" />
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ncar-command-language-meteoswiss-colour-maps">
<h2>NCAR Command Language - MeteoSwiss colour maps<a class="headerlink" href="#ncar-command-language-meteoswiss-colour-maps" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Scale</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>hotcold_18lev</td>
<td><img alt="_images/hotcold_18lev.png" class="first last" src="_images/hotcold_18lev.png" />
</td>
</tr>
<tr class="row-odd"><td>hotcolr_19lev</td>
<td><img alt="_images/hotcolr_19lev.png" class="first last" src="_images/hotcolr_19lev.png" />
</td>
</tr>
<tr class="row-even"><td>mch_default</td>
<td><img alt="_images/mch_default.png" class="first last" src="_images/mch_default.png" />
</td>
</tr>
<tr class="row-odd"><td>perc2_9lev</td>
<td><img alt="_images/perc2_9lev.png" class="first last" src="_images/perc2_9lev.png" />
</td>
</tr>
<tr class="row-even"><td>percent_11lev</td>
<td><img alt="_images/percent_11lev.png" class="first last" src="_images/percent_11lev.png" />
</td>
</tr>
<tr class="row-odd"><td>precip2_15lev</td>
<td><img alt="_images/precip2_15lev.png" class="first last" src="_images/precip2_15lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip2_17lev</td>
<td><img alt="_images/precip2_17lev.png" class="first last" src="_images/precip2_17lev.png" />
</td>
</tr>
<tr class="row-odd"><td>precip3_16lev</td>
<td><img alt="_images/precip3_16lev.png" class="first last" src="_images/precip3_16lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip4_11lev</td>
<td><img alt="_images/precip4_11lev.png" class="first last" src="_images/precip4_11lev.png" />
</td>
</tr>
<tr class="row-odd"><td>precip4_diff_19lev</td>
<td><img alt="_images/precip4_diff_19lev.png" class="first last" src="_images/precip4_diff_19lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip_11lev</td>
<td><img alt="_images/precip_11lev.png" class="first last" src="_images/precip_11lev.png" />
</td>
</tr>
<tr class="row-odd"><td>precip_diff_12lev</td>
<td><img alt="_images/precip_diff_12lev.png" class="first last" src="_images/precip_diff_12lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip_diff_1lev</td>
<td><img alt="_images/precip_diff_1lev.png" class="first last" src="_images/precip_diff_1lev.png" />
</td>
</tr>
<tr class="row-odd"><td>rh_19lev</td>
<td><img alt="_images/rh_19lev.png" class="first last" src="_images/rh_19lev.png" />
</td>
</tr>
<tr class="row-even"><td>spread_15lev</td>
<td><img alt="_images/spread_15lev.png" class="first last" src="_images/spread_15lev.png" />
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ncar-command-language-small-color-maps-50-colours">
<h2>NCAR Command Language - small color maps (&lt;50 colours)<a class="headerlink" href="#ncar-command-language-small-color-maps-50-colours" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Scale</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>amwg</td>
<td><img alt="_images/amwg.png" class="first last" src="_images/amwg.png" />
</td>
</tr>
<tr class="row-odd"><td>amwg_blueyellowred</td>
<td><img alt="_images/amwg_blueyellowred.png" class="first last" src="_images/amwg_blueyellowred.png" />
</td>
</tr>
<tr class="row-even"><td>BlueDarkRed18</td>
<td><img alt="_images/BlueDarkRed18.png" class="first last" src="_images/BlueDarkRed18.png" />
</td>
</tr>
<tr class="row-odd"><td>BlueDarkOrange18</td>
<td><img alt="_images/BlueDarkOrange18.png" class="first last" src="_images/BlueDarkOrange18.png" />
</td>
</tr>
<tr class="row-even"><td>BlueGreen14</td>
<td><img alt="_images/BlueGreen14.png" class="first last" src="_images/BlueGreen14.png" />
</td>
</tr>
<tr class="row-odd"><td>BrownBlue12</td>
<td><img alt="_images/BrownBlue12.png" class="first last" src="_images/BrownBlue12.png" />
</td>
</tr>
<tr class="row-even"><td>Cat12</td>
<td><img alt="_images/Cat12.png" class="first last" src="_images/Cat12.png" />
</td>
</tr>
<tr class="row-odd"><td>cmp_flux</td>
<td><img alt="_images/cmp_flux.png" class="first last" src="_images/cmp_flux.png" />
</td>
</tr>
<tr class="row-even"><td>cosam12</td>
<td><img alt="_images/cosam12.png" class="first last" src="_images/cosam12.png" />
</td>
</tr>
<tr class="row-odd"><td>cosam</td>
<td><img alt="_images/cosam.png" class="first last" src="_images/cosam.png" />
</td>
</tr>
<tr class="row-even"><td>GHRSST_anomaly</td>
<td><img alt="_images/GHRSST_anomaly.png" class="first last" src="_images/GHRSST_anomaly.png" />
</td>
</tr>
<tr class="row-odd"><td>GreenMagenta16</td>
<td><img alt="_images/GreenMagenta16.png" class="first last" src="_images/GreenMagenta16.png" />
</td>
</tr>
<tr class="row-even"><td>hotcold_18lev</td>
<td><img alt="_images/hotcold_18lev.png" class="first last" src="_images/hotcold_18lev.png" />
</td>
</tr>
<tr class="row-odd"><td>hotcolr_19lev</td>
<td><img alt="_images/hotcolr_19lev.png" class="first last" src="_images/hotcolr_19lev.png" />
</td>
</tr>
<tr class="row-even"><td>mch_default</td>
<td><img alt="_images/mch_default.png" class="first last" src="_images/mch_default.png" />
</td>
</tr>
<tr class="row-odd"><td>nrl_sirkes</td>
<td><img alt="_images/nrl_sirkes.png" class="first last" src="_images/nrl_sirkes.png" />
</td>
</tr>
<tr class="row-even"><td>nrl_sirkes_nowhite</td>
<td><img alt="_images/nrl_sirkes_nowhite.png" class="first last" src="_images/nrl_sirkes_nowhite.png" />
</td>
</tr>
<tr class="row-odd"><td>perc2_9lev</td>
<td><img alt="_images/perc2_9lev.png" class="first last" src="_images/perc2_9lev.png" />
</td>
</tr>
<tr class="row-even"><td>percent_11lev</td>
<td><img alt="_images/percent_11lev.png" class="first last" src="_images/percent_11lev.png" />
</td>
</tr>
<tr class="row-odd"><td>posneg_2</td>
<td><img alt="_images/posneg_2.png" class="first last" src="_images/posneg_2.png" />
</td>
</tr>
<tr class="row-even"><td>prcp_1</td>
<td><img alt="_images/prcp_1.png" class="first last" src="_images/prcp_1.png" />
</td>
</tr>
<tr class="row-odd"><td>prcp_2</td>
<td><img alt="_images/prcp_2.png" class="first last" src="_images/prcp_2.png" />
</td>
</tr>
<tr class="row-even"><td>prcp_3</td>
<td><img alt="_images/prcp_3.png" class="first last" src="_images/prcp_3.png" />
</td>
</tr>
<tr class="row-odd"><td>precip_11lev</td>
<td><img alt="_images/precip_11lev.png" class="first last" src="_images/precip_11lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip_diff_12lev</td>
<td><img alt="_images/precip_diff_12lev.png" class="first last" src="_images/precip_diff_12lev.png" />
</td>
</tr>
<tr class="row-odd"><td>precip_diff_1lev</td>
<td><img alt="_images/precip_diff_1lev.png" class="first last" src="_images/precip_diff_1lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip2_15lev</td>
<td><img alt="_images/precip2_15lev.png" class="first last" src="_images/precip2_15lev.png" />
</td>
</tr>
<tr class="row-odd"><td>precip2_17lev</td>
<td><img alt="_images/precip2_17lev.png" class="first last" src="_images/precip2_17lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip3_16lev</td>
<td><img alt="_images/precip3_16lev.png" class="first last" src="_images/precip3_16lev.png" />
</td>
</tr>
<tr class="row-odd"><td>precip4_11lev</td>
<td><img alt="_images/precip4_11lev.png" class="first last" src="_images/precip4_11lev.png" />
</td>
</tr>
<tr class="row-even"><td>precip4_diff_19lev</td>
<td><img alt="_images/precip4_diff_19lev.png" class="first last" src="_images/precip4_diff_19lev.png" />
</td>
</tr>
<tr class="row-odd"><td>radar</td>
<td><img alt="_images/radar.png" class="first last" src="_images/radar.png" />
</td>
</tr>
<tr class="row-even"><td>radar_1</td>
<td><img alt="_images/radar_1.png" class="first last" src="_images/radar_1.png" />
</td>
</tr>
<tr class="row-odd"><td>rh_19lev</td>
<td><img alt="_images/rh_19lev.png" class="first last" src="_images/rh_19lev.png" />
</td>
</tr>
<tr class="row-even"><td>seaice_1</td>
<td><img alt="_images/seaice_1.png" class="first last" src="_images/seaice_1.png" />
</td>
</tr>
<tr class="row-odd"><td>seaice_2</td>
<td><img alt="_images/seaice_2.png" class="first last" src="_images/seaice_2.png" />
</td>
</tr>
<tr class="row-even"><td>so4_21</td>
<td><img alt="_images/so4_21.png" class="first last" src="_images/so4_21.png" />
</td>
</tr>
<tr class="row-odd"><td>spread_15lev</td>
<td><img alt="_images/spread_15lev.png" class="first last" src="_images/spread_15lev.png" />
</td>
</tr>
<tr class="row-even"><td>StepSeq25</td>
<td><img alt="_images/StepSeq25.png" class="first last" src="_images/StepSeq25.png" />
</td>
</tr>
<tr class="row-odd"><td>sunshine_9lev</td>
<td><img alt="_images/sunshine_9lev.png" class="first last" src="_images/sunshine_9lev.png" />
</td>
</tr>
<tr class="row-even"><td>sunshine_diff_12lev</td>
<td><img alt="_images/sunshine_diff_12lev.png" class="first last" src="_images/sunshine_diff_12lev.png" />
</td>
</tr>
<tr class="row-odd"><td>temp_19lev</td>
<td><img alt="_images/temp_19lev.png" class="first last" src="_images/temp_19lev.png" />
</td>
</tr>
<tr class="row-even"><td>temp_diff_18lev</td>
<td><img alt="_images/temp_diff_18lev.png" class="first last" src="_images/temp_diff_18lev.png" />
</td>
</tr>
<tr class="row-odd"><td>temp_diff_1lev</td>
<td><img alt="_images/temp_diff_1lev.png" class="first last" src="_images/temp_diff_1lev.png" />
</td>
</tr>
<tr class="row-even"><td>topo_15lev</td>
<td><img alt="_images/topo_15lev.png" class="first last" src="_images/topo_15lev.png" />
</td>
</tr>
<tr class="row-odd"><td>wgne15</td>
<td><img alt="_images/wgne15.png" class="first last" src="_images/wgne15.png" />
</td>
</tr>
<tr class="row-even"><td>wind_17lev</td>
<td><img alt="_images/wind_17lev.png" class="first last" src="_images/wind_17lev.png" />
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ncar-command-language-large-colour-maps-50-colours">
<h2>NCAR Command Language - large colour maps (&gt;50 colours)<a class="headerlink" href="#ncar-command-language-large-colour-maps-50-colours" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Scale</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>amwg256</td>
<td><img alt="_images/amwg256.png" class="first last" src="_images/amwg256.png" />
</td>
</tr>
<tr class="row-odd"><td>BkBlAqGrYeOrReViWh200</td>
<td><img alt="_images/BkBlAqGrYeOrReViWh200.png" class="first last" src="_images/BkBlAqGrYeOrReViWh200.png" />
</td>
</tr>
<tr class="row-even"><td>BlAqGrYeOrRe</td>
<td><img alt="_images/BlAqGrYeOrRe.png" class="first last" src="_images/BlAqGrYeOrRe.png" />
</td>
</tr>
<tr class="row-odd"><td>BlAqGrYeOrReVi200</td>
<td><img alt="_images/BlAqGrYeOrReVi200.png" class="first last" src="_images/BlAqGrYeOrReVi200.png" />
</td>
</tr>
<tr class="row-even"><td>BlGrYeOrReVi200</td>
<td><img alt="_images/BlGrYeOrReVi200.png" class="first last" src="_images/BlGrYeOrReVi200.png" />
</td>
</tr>
<tr class="row-odd"><td>BlRe</td>
<td><img alt="_images/BlRe.png" class="first last" src="_images/BlRe.png" />
</td>
</tr>
<tr class="row-even"><td>BlueRed</td>
<td><img alt="_images/BlueRed.png" class="first last" src="_images/BlueRed.png" />
</td>
</tr>
<tr class="row-odd"><td>BlueRedGray</td>
<td><img alt="_images/BlueRedGray.png" class="first last" src="_images/BlueRedGray.png" />
</td>
</tr>
<tr class="row-even"><td>BlueWhiteOrangeRed</td>
<td><img alt="_images/BlueWhiteOrangeRed.png" class="first last" src="_images/BlueWhiteOrangeRed.png" />
</td>
</tr>
<tr class="row-odd"><td>BlueYellowRed</td>
<td><img alt="_images/BlueYellowRed.png" class="first last" src="_images/BlueYellowRed.png" />
</td>
</tr>
<tr class="row-even"><td>BlWhRe</td>
<td><img alt="_images/BlWhRe.png" class="first last" src="_images/BlWhRe.png" />
</td>
</tr>
<tr class="row-odd"><td>cmp_b2r</td>
<td><img alt="_images/cmp_b2r.png" class="first last" src="_images/cmp_b2r.png" />
</td>
</tr>
<tr class="row-even"><td>cmp_haxby</td>
<td><img alt="_images/cmp_haxby.png" class="first last" src="_images/cmp_haxby.png" />
</td>
</tr>
<tr class="row-odd"><td>detail</td>
<td><img alt="_images/detail.png" class="first last" src="_images/detail.png" />
</td>
</tr>
<tr class="row-even"><td>extrema</td>
<td><img alt="_images/extrema.png" class="first last" src="_images/extrema.png" />
</td>
</tr>
<tr class="row-odd"><td>GrayWhiteGray</td>
<td><img alt="_images/GrayWhiteGray.png" class="first last" src="_images/GrayWhiteGray.png" />
</td>
</tr>
<tr class="row-even"><td>GreenYellow</td>
<td><img alt="_images/GreenYellow.png" class="first last" src="_images/GreenYellow.png" />
</td>
</tr>
<tr class="row-odd"><td>helix</td>
<td><img alt="_images/helix.png" class="first last" src="_images/helix.png" />
</td>
</tr>
<tr class="row-even"><td>helix1</td>
<td><img alt="_images/helix1.png" class="first last" src="_images/helix1.png" />
</td>
</tr>
<tr class="row-odd"><td>hotres</td>
<td><img alt="_images/hotres.png" class="first last" src="_images/hotres.png" />
</td>
</tr>
<tr class="row-even"><td>matlab_hot</td>
<td><img alt="_images/matlab_hot.png" class="first last" src="_images/matlab_hot.png" />
</td>
</tr>
<tr class="row-odd"><td>matlab_hsv</td>
<td><img alt="_images/matlab_hsv.png" class="first last" src="_images/matlab_hsv.png" />
</td>
</tr>
<tr class="row-even"><td>matlab_jet</td>
<td><img alt="_images/matlab_jet.png" class="first last" src="_images/matlab_jet.png" />
</td>
</tr>
<tr class="row-odd"><td>matlab_lines</td>
<td><img alt="_images/matlab_lines.png" class="first last" src="_images/matlab_lines.png" />
</td>
</tr>
<tr class="row-even"><td>ncl_default</td>
<td><img alt="_images/ncl_default.png" class="first last" src="_images/ncl_default.png" />
</td>
</tr>
<tr class="row-odd"><td>ncview_default</td>
<td><img alt="_images/ncview_default.png" class="first last" src="_images/ncview_default.png" />
</td>
</tr>
<tr class="row-even"><td>OceanLakeLandSnow</td>
<td><img alt="_images/OceanLakeLandSnow.png" class="first last" src="_images/OceanLakeLandSnow.png" />
</td>
</tr>
<tr class="row-odd"><td>rainbow</td>
<td><img alt="_images/rainbow.png" class="first last" src="_images/rainbow.png" />
</td>
</tr>
<tr class="row-even"><td>rainbow_white_gray</td>
<td><img alt="_images/rainbow_white_gray.png" class="first last" src="_images/rainbow_white_gray.png" />
</td>
</tr>
<tr class="row-odd"><td>rainbow_white</td>
<td><img alt="_images/rainbow_white.png" class="first last" src="_images/rainbow_white.png" />
</td>
</tr>
<tr class="row-even"><td>rainbow_gray</td>
<td><img alt="_images/rainbow_gray.png" class="first last" src="_images/rainbow_gray.png" />
</td>
</tr>
<tr class="row-odd"><td>tbr_240_300</td>
<td><img alt="_images/tbr_240_300.png" class="first last" src="_images/tbr_240_300.png" />
</td>
</tr>
<tr class="row-even"><td>tbr_stdev_0_30</td>
<td><img alt="_images/tbr_stdev_0_30.png" class="first last" src="_images/tbr_stdev_0_30.png" />
</td>
</tr>
<tr class="row-odd"><td>tbr_var_0_500</td>
<td><img alt="_images/tbr_var_0_500.png" class="first last" src="_images/tbr_var_0_500.png" />
</td>
</tr>
<tr class="row-even"><td>tbrAvg1</td>
<td><img alt="_images/tbrAvg1.png" class="first last" src="_images/tbrAvg1.png" />
</td>
</tr>
<tr class="row-odd"><td>tbrStd1</td>
<td><img alt="_images/tbrStd1.png" class="first last" src="_images/tbrStd1.png" />
</td>
</tr>
<tr class="row-even"><td>tbrVar1</td>
<td><img alt="_images/tbrVar1.png" class="first last" src="_images/tbrVar1.png" />
</td>
</tr>
<tr class="row-odd"><td>thelix</td>
<td><img alt="_images/thelix.png" class="first last" src="_images/thelix.png" />
</td>
</tr>
<tr class="row-even"><td>ViBlGrWhYeOrRe</td>
<td><img alt="_images/ViBlGrWhYeOrRe.png" class="first last" src="_images/ViBlGrWhYeOrRe.png" />
</td>
</tr>
<tr class="row-odd"><td>wh_bl_gr_ye_re</td>
<td><img alt="_images/wh_bl_gr_ye_re.png" class="first last" src="_images/wh_bl_gr_ye_re.png" />
</td>
</tr>
<tr class="row-even"><td>WhBlGrYeRe</td>
<td><img alt="_images/WhBlGrYeRe.png" class="first last" src="_images/WhBlGrYeRe.png" />
</td>
</tr>
<tr class="row-odd"><td>WhBlReWh</td>
<td><img alt="_images/WhBlReWh.png" class="first last" src="_images/WhBlReWh.png" />
</td>
</tr>
<tr class="row-even"><td>WhiteBlue</td>
<td><img alt="_images/WhiteBlue.png" class="first last" src="_images/WhiteBlue.png" />
</td>
</tr>
<tr class="row-odd"><td>WhiteBlueGreenYellowRed</td>
<td><img alt="_images/WhiteBlueGreenYellowRed.png" class="first last" src="_images/WhiteBlueGreenYellowRed.png" />
</td>
</tr>
<tr class="row-even"><td>WhiteGreen</td>
<td><img alt="_images/WhiteGreen.png" class="first last" src="_images/WhiteGreen.png" />
</td>
</tr>
<tr class="row-odd"><td>WhiteYellowOrangeRed</td>
<td><img alt="_images/WhiteYellowOrangeRed.png" class="first last" src="_images/WhiteYellowOrangeRed.png" />
</td>
</tr>
<tr class="row-even"><td>WhViBlGrYeOrRe</td>
<td><img alt="_images/WhViBlGrYeOrRe.png" class="first last" src="_images/WhViBlGrYeOrRe.png" />
</td>
</tr>
<tr class="row-odd"><td>WhViBlGrYeOrReWh</td>
<td><img alt="_images/WhViBlGrYeOrReWh.png" class="first last" src="_images/WhViBlGrYeOrReWh.png" />
</td>
</tr>
<tr class="row-even"><td>wxpEnIR</td>
<td><img alt="_images/wxpEnIR.png" class="first last" src="_images/wxpEnIR.png" />
</td>
</tr>
<tr class="row-odd"><td>3gauss</td>
<td><img alt="_images/3gauss.png" class="first last" src="_images/3gauss.png" />
</td>
</tr>
<tr class="row-even"><td>3saw</td>
<td><img alt="_images/3saw.png" class="first last" src="_images/3saw.png" />
</td>
</tr>
<tr class="row-odd"><td>BrBG</td>
<td><img alt="_images/BrBG.png" class="first last" src="_images/BrBG.png" />
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ncar-command-language-enhanced-to-help-with-colour-blindness">
<h2>NCAR Command Language - Enhanced to help with colour blindness<a class="headerlink" href="#ncar-command-language-enhanced-to-help-with-colour-blindness" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Scale</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>StepSeq25</td>
<td><img alt="_images/StepSeq25.png" class="first last" src="_images/StepSeq25.png" />
</td>
</tr>
<tr class="row-odd"><td>posneg_2</td>
<td><img alt="_images/posneg_2.png" class="first last" src="_images/posneg_2.png" />
</td>
</tr>
<tr class="row-even"><td>posneg_1</td>
<td><img alt="_images/posneg_1.png" class="first last" src="_images/posneg_1.png" />
</td>
</tr>
<tr class="row-odd"><td>BlueDarkOrange18</td>
<td><img alt="_images/BlueDarkOrange18.png" class="first last" src="_images/BlueDarkOrange18.png" />
</td>
</tr>
<tr class="row-even"><td>BlueDarkRed18</td>
<td><img alt="_images/BlueDarkRed18.png" class="first last" src="_images/BlueDarkRed18.png" />
</td>
</tr>
<tr class="row-odd"><td>GreenMagenta16</td>
<td><img alt="_images/GreenMagenta16.png" class="first last" src="_images/GreenMagenta16.png" />
</td>
</tr>
<tr class="row-even"><td>BlueGreen14</td>
<td><img alt="_images/BlueGreen14.png" class="first last" src="_images/BlueGreen14.png" />
</td>
</tr>
<tr class="row-odd"><td>BrownBlue12</td>
<td><img alt="_images/BrownBlue12.png" class="first last" src="_images/BrownBlue12.png" />
</td>
</tr>
<tr class="row-even"><td>Cat12</td>
<td><img alt="_images/Cat12.png" class="first last" src="_images/Cat12.png" />
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="idl-guide-scales">
<h2>IDL guide scales<a class="headerlink" href="#idl-guide-scales" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Scale</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale1</td>
<td><img alt="_images/scale1.png" class="first last" src="_images/scale1.png" />
</td>
</tr>
<tr class="row-odd"><td>scale2</td>
<td><img alt="_images/scale2.png" class="first last" src="_images/scale2.png" />
</td>
</tr>
<tr class="row-even"><td>scale3</td>
<td><img alt="_images/scale3.png" class="first last" src="_images/scale3.png" />
</td>
</tr>
<tr class="row-odd"><td>scale4</td>
<td><img alt="_images/scale4.png" class="first last" src="_images/scale4.png" />
</td>
</tr>
<tr class="row-even"><td>scale5</td>
<td><img alt="_images/scale5.png" class="first last" src="_images/scale5.png" />
</td>
</tr>
<tr class="row-odd"><td>scale6</td>
<td><img alt="_images/scale6.png" class="first last" src="_images/scale6.png" />
</td>
</tr>
<tr class="row-even"><td>scale7</td>
<td><img alt="_images/scale7.png" class="first last" src="_images/scale7.png" />
</td>
</tr>
<tr class="row-odd"><td>scale8</td>
<td><img alt="_images/scale8.png" class="first last" src="_images/scale8.png" />
</td>
</tr>
<tr class="row-even"><td>scale9</td>
<td><img alt="_images/scale9.png" class="first last" src="_images/scale9.png" />
</td>
</tr>
<tr class="row-odd"><td>scale10</td>
<td><img alt="_images/scale10.png" class="first last" src="_images/scale10.png" />
</td>
</tr>
<tr class="row-even"><td>scale11</td>
<td><img alt="_images/scale11.png" class="first last" src="_images/scale11.png" />
</td>
</tr>
<tr class="row-odd"><td>scale12</td>
<td><img alt="_images/scale12.png" class="first last" src="_images/scale12.png" />
</td>
</tr>
<tr class="row-even"><td>scale13</td>
<td><img alt="_images/scale13.png" class="first last" src="_images/scale13.png" />
</td>
</tr>
<tr class="row-odd"><td>scale14</td>
<td><img alt="_images/scale14.png" class="first last" src="_images/scale14.png" />
</td>
</tr>
<tr class="row-even"><td>scale15</td>
<td><img alt="_images/scale15.png" class="first last" src="_images/scale15.png" />
</td>
</tr>
<tr class="row-odd"><td>scale16</td>
<td><img alt="_images/scale16.png" class="first last" src="_images/scale16.png" />
</td>
</tr>
<tr class="row-even"><td>scale17</td>
<td><img alt="_images/scale17.png" class="first last" src="_images/scale17.png" />
</td>
</tr>
<tr class="row-odd"><td>scale18</td>
<td><img alt="_images/scale18.png" class="first last" src="_images/scale18.png" />
</td>
</tr>
<tr class="row-even"><td>scale19</td>
<td><img alt="_images/scale19.png" class="first last" src="_images/scale19.png" />
</td>
</tr>
<tr class="row-odd"><td>scale20</td>
<td><img alt="_images/scale20.png" class="first last" src="_images/scale20.png" />
</td>
</tr>
<tr class="row-even"><td>scale21</td>
<td><img alt="_images/scale21.png" class="first last" src="_images/scale21.png" />
</td>
</tr>
<tr class="row-odd"><td>scale22</td>
<td><img alt="_images/scale22.png" class="first last" src="_images/scale22.png" />
</td>
</tr>
<tr class="row-even"><td>scale23</td>
<td><img alt="_images/scale23.png" class="first last" src="_images/scale23.png" />
</td>
</tr>
<tr class="row-odd"><td>scale24</td>
<td><img alt="_images/scale24.png" class="first last" src="_images/scale24.png" />
</td>
</tr>
<tr class="row-even"><td>scale25</td>
<td><img alt="_images/scale25.png" class="first last" src="_images/scale25.png" />
</td>
</tr>
<tr class="row-odd"><td>scale26</td>
<td><img alt="_images/scale26.png" class="first last" src="_images/scale26.png" />
</td>
</tr>
<tr class="row-even"><td>scale27</td>
<td><img alt="_images/scale27.png" class="first last" src="_images/scale27.png" />
</td>
</tr>
<tr class="row-odd"><td>scale28</td>
<td><img alt="_images/scale28.png" class="first last" src="_images/scale28.png" />
</td>
</tr>
<tr class="row-even"><td>scale29</td>
<td><img alt="_images/scale29.png" class="first last" src="_images/scale29.png" />
</td>
</tr>
<tr class="row-odd"><td>scale30</td>
<td><img alt="_images/scale30.png" class="first last" src="_images/scale30.png" />
</td>
</tr>
<tr class="row-even"><td>scale31</td>
<td><img alt="_images/scale31.png" class="first last" src="_images/scale31.png" />
</td>
</tr>
<tr class="row-odd"><td>scale32</td>
<td><img alt="_images/scale32.png" class="first last" src="_images/scale32.png" />
</td>
</tr>
<tr class="row-even"><td>scale33</td>
<td><img alt="_images/scale33.png" class="first last" src="_images/scale33.png" />
</td>
</tr>
<tr class="row-odd"><td>scale34</td>
<td><img alt="_images/scale34.png" class="first last" src="_images/scale34.png" />
</td>
</tr>
<tr class="row-even"><td>scale35</td>
<td><img alt="_images/scale35.png" class="first last" src="_images/scale35.png" />
</td>
</tr>
<tr class="row-odd"><td>scale36</td>
<td><img alt="_images/scale36.png" class="first last" src="_images/scale36.png" />
</td>
</tr>
<tr class="row-even"><td>scale37</td>
<td><img alt="_images/scale37.png" class="first last" src="_images/scale37.png" />
</td>
</tr>
<tr class="row-odd"><td>scale38</td>
<td><img alt="_images/scale38.png" class="first last" src="_images/scale38.png" />
</td>
</tr>
<tr class="row-even"><td>scale39</td>
<td><img alt="_images/scale39.png" class="first last" src="_images/scale39.png" />
</td>
</tr>
<tr class="row-odd"><td>scale40</td>
<td><img alt="_images/scale40.png" class="first last" src="_images/scale40.png" />
</td>
</tr>
<tr class="row-even"><td>scale41</td>
<td><img alt="_images/scale41.png" class="first last" src="_images/scale41.png" />
</td>
</tr>
<tr class="row-odd"><td>scale42</td>
<td><img alt="_images/scale42.png" class="first last" src="_images/scale42.png" />
</td>
</tr>
<tr class="row-even"><td>scale43</td>
<td><img alt="_images/scale43.png" class="first last" src="_images/scale43.png" />
</td>
</tr>
<tr class="row-odd"><td>scale44</td>
<td><img alt="_images/scale44.png" class="first last" src="_images/scale44.png" />
</td>
</tr>
</tbody>
</table>
<div class="section" id="labelling-time-axes">
<h3>Labelling time axes<a class="headerlink" href="#labelling-time-axes" title="Permalink to this headline">¶</a></h3>
<p>The default time axis labelling in cf-plot might not be acceptable and here is some information on
using cf-python to extract values for yourself.</p>
<div class="line-block">
<div class="line"><strong>f=cf.read(‘cfplot_data/tas_A1.nc’)[0]</strong></div>
<div class="line"><strong>f.items(‘T’)</strong></div>
<div class="line">{‘dim0’: &lt;CF DimensionCoordinate: time(1680) 360_day&gt;}</div>
</div>
<p>The time strings are stored in dtarray and the time values in array:</p>
<div class="line-block">
<div class="line"><strong>f.item(‘T’).dtarray</strong></div>
<div class="line">array([1860-01-16 00:00:00, 1860-02-16 00:00:00, 1860-03-16 00:00:00, …,</div>
<div class="line-block">
<div class="line">1999-10-16 00:00:00, 1999-11-16 00:00:00, 1999-12-16 00:00:00], dtype=object)</div>
</div>
</div>
<div class="line-block">
<div class="line"><strong>f.item(‘T’).array</strong></div>
<div class="line">array([  1.50000000e+01,   4.50000000e+01,   7.50000000e+01, …,</div>
<div class="line-block">
<div class="line">5.03250000e+04,   5.03550000e+04,   5.03850000e+04])</div>
</div>
</div>
<p>Likewise the years and months are in year.array and month.array:</p>
<div class="line-block">
<div class="line"><strong>f.item(‘T’).year.array</strong></div>
<div class="line">array([1860, 1860, 1860, …, 1999, 1999, 1999])</div>
</div>
<div class="line-block">
<div class="line"><strong>f.item(‘T’).month.array</strong></div>
<div class="line">array([ 1,  2,  3, …, 10, 11, 12])</div>
</div>
<p>To find the time value for to the tick position for January 1st 1980 00:00hrs:</p>
<div class="line-block">
<div class="line"><strong>np.min(cf.Data(cf.dt(‘1980-01-01 00:00:00’), units=f.item(‘T’).Units).array)</strong></div>
<div class="line">43200.0</div>
</div>
<p>With this technique arrays of custom tick label and positions can be constructed and passed to
the cfp.lineplot or to the cfp.con routines.</p>
<p>Note the correct date format is ‘YYYY-MM-DD’ or ‘YYYY-MM-DD HH:MM:SS’ - anything else will give unexpected results.</p>
</div>
<div class="section" id="selecting-data-that-has-a-lot-of-decimal-places-in-the-axis-values">
<h3>Selecting data that has a lot of decimal places in the axis values<a class="headerlink" href="#selecting-data-that-has-a-lot-of-decimal-places-in-the-axis-values" title="Permalink to this headline">¶</a></h3>
<p>Axes with a lot of decimal places can cause issues with numeric representation and rounding,
In one case</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfp</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mf">50.17530806</span><span class="p">))</span>
</pre></div>
</div>
<p>caused an error as the latitude with 50.17530806 wasn’t found.</p>
<p>In cf-python the tolerance for equivalence is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">RTOL</span><span class="p">()</span>
<span class="go">2.220446049250313e-16</span>
</pre></div>
</div>
<p>To set to a lower tolerance use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">RTOL</span><span class="p">(</span><span class="mf">1e-5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">RTOL</span><span class="p">()</span>
<span class="go">1e-05</span>
</pre></div>
</div>
<p>To swap back use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">RTOL</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
<p>After swapping the tolerance to 1e-5 the following finds the latitide as expected.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfp</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mf">50.17530806</span><span class="p">))</span>
</pre></div>
</div>
<p>We could have worked around this with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfp</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">wi</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mf">50.2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="section" id="map-options">
<h3>Map options<a class="headerlink" href="#map-options" title="Permalink to this headline">¶</a></h3>
<p>The default map plotting projection is the cyclindrical equidistant
projection from -180 to 180 in longitude and -90 to 90 in latitude.
To change the map view in this projection to over the United Kingdom,
for example, you would use
mapset(lonmin=-6, lonmax=3, latmin=50, latmax=60)
or
mapset(-6, 3, 50, 60)</p>
<p>The limits are -360 to 720 in longitude so to look at the equatorial
Pacific you could use
mapset(lonmin=90, lonmax=300, latmin=-30, latmax=30)
or
mapset(lonmin=-270, lonmax=-60, latmin=-30, latmax=30)</p>
<p>The proj parameter accepts ‘npstere’ and ‘spstere’ for northern
hemisphere or southern hemisphere polar stereographic projections.
In addition to these the boundinglat parameter sets the edge of the
viewable latitudes and lat_0 sets the centre of desired map domain.</p>
<p>Additional map projections via proj are: ortho, merc, moll, robin and lcc
These are abreviations for orthographic, mercator, mollweide, robinson
and lambert conformal projections</p>
<p>Cropped area on map lcc projections
Lambert conformal projections can now be cropped as in the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/ggap.nc&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">mapset</span><span class="p">(</span><span class="n">proj</span><span class="o">=</span><span class="s1">&#39;lcc&#39;</span><span class="p">,</span> <span class="n">lonmin</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">lonmax</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">latmin</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">latmax</span><span class="o">=</span><span class="mi">85</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">700</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cm.png"><img alt="_images/cm.png" src="_images/cm.png" style="width: 364.0px; height: 339.04px;" /></a>
</div>
<div class="section" id="axis-labelling">
<h3>Axis labelling<a class="headerlink" href="#axis-labelling" title="Permalink to this headline">¶</a></h3>
<p>The priority order of axis labeling in order of preference is:
|  1) user passed to routine
|  2) user defined by axes command
|  3) labels generated internally</p>
<p>For 1 and 2 the available options are</p>
<div class="line-block">
<div class="line">xticks=None - xtick positions</div>
<div class="line">xticklabels=None - xtick labels</div>
<div class="line">yticks=None - y tick positions</div>
<div class="line">yticklabels=None - ytick labels</div>
<div class="line">xlabel=None - label for x axis</div>
<div class="line">ylabel=None - label for y axis</div>
</div>
<p>When specifying the xticklabels or yticklabels the supplied values must be a string or list of strings and match the number of corresponding tick marks.</p>
</div>
<div class="section" id="id1">
<h3>Blockfill plots<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Blockfill plots used to use the pcolormesh method but this had the advantage of being fast but gave incorrect results with masked data or when the data range wasn’t extended in both ‘min’ and ‘max’ directions.  The blockfill method now uses PolyCollection from matplotlib.collections to draw the polygons for each colour interval specified by the contour levels.  This also has the advantage that blockfill is now available in other projections such as polar stereographic.  When doing blockfill plots of larger numbers of points the new method is slower so trim down the data to the area being shown before passing to cfp.con to speed it up.</p>
</div>
<div class="section" id="making-postscript-or-png-pictures">
<h3>Making postscript or PNG pictures<a class="headerlink" href="#making-postscript-or-png-pictures" title="Permalink to this headline">¶</a></h3>
<p>There are various methods of producing a figure for use in an external package such as a web document or LaTeX, Word etc.</p>
<div class="line-block">
<div class="line"><strong>cfp.setvars(file=’zonal.ps’)</strong> write subsequent graphics output directly to a file called zonal.ps</div>
<div class="line"><strong>cfp.setvars(file=’zonal.png’)</strong> write subsequent graphics output to a file called zonal.png</div>
</div>
<p>To reset to viewing the picture on the screen again use <strong>cfp.setvars()</strong>.</p>
<p>Another method is to use <strong>gopen</strong> as when used in making multiple plots.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfp</span><span class="o">.</span><span class="n">gopen</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="s1">&#39;zonal.ps&#39;</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">gclose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="making-non-blocking-plots">
<h3>Making non-blocking plots<a class="headerlink" href="#making-non-blocking-plots" title="Permalink to this headline">¶</a></h3>
<p>Using the Python prompt cf-plot will try to use the ImageMagick display command to show the plots.  This is done with subprocess and plots will remain on the screen even if the user exits the Python session.  If the display command isn’t installed then cf-plot will use the Matplotlib picture viewer which will block the command prompt until it is quit.  Use <strong>cfp.setvars(viewer=’matplotlib’)</strong> to set this to be the defaul for a session even if the display command is available.</p>
</div>
<div class="section" id="using-cf-plot-in-batch-mode">
<h3>Using cf-plot in batch mode<a class="headerlink" href="#using-cf-plot-in-batch-mode" title="Permalink to this headline">¶</a></h3>
<p>The following method works in the Reading Meteorology department.
In the file /home/swsheaps/ajh.sh:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">opt</span><span class="o">-</span><span class="n">user</span><span class="o">/</span><span class="n">Enthought</span><span class="o">/</span><span class="n">Canopy_64bit</span><span class="o">/</span><span class="n">User</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">swsheaps</span><span class="o">/</span><span class="n">ajh</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>In the file /home/swsheaps/ajh.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cf</span>
<span class="kn">import</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">setvars</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;/home/swsheaps/ll.png&#39;</span><span class="p">)</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
<p>run the batch job today at 16:33:</p>
<p><strong>at -f /home/swsheaps/ajh.sh 16:33</strong></p>
</div>
<div class="section" id="changing-defaults-via-the-cfplot-defaults-file">
<h3>Changing defaults via the ~/.cfplot_defaults file<a class="headerlink" href="#changing-defaults-via-the-cfplot-defaults-file" title="Permalink to this headline">¶</a></h3>
<p>A ~/.cfplot_defaults default overide file in the user home directory may contain three
values affecting contour plots initially. Please contact me if you would like any more defaults changed in this manner.</p>
<div class="line-block">
<div class="line">blockfill True</div>
<div class="line">fill False</div>
<div class="line">lines False</div>
</div>
<p>This changes the default cfplot con options from contour fill with contour lines
on top to blockfill with no contour lines on top.  The blockfill, fill and line
options to the con routine override any of these preset values.  The delimter beween the
option and the value must be a space.</p>
</div>
<div class="section" id="plotting-data-with-different-time-units">
<h3>Plotting data with different time units<a class="headerlink" href="#plotting-data-with-different-time-units" title="Permalink to this headline">¶</a></h3>
<p>When plotting data with different time units users need to move their data to using a common set of units as below.</p>
<div class="line-block">
<div class="line">data1.item(‘T’).Units</div>
<div class="line">&lt;CF Units: hours since 1900-01-01 00:00:00 standard&gt;</div>
</div>
<div class="line-block">
<div class="line">data2.item(‘T’).Units</div>
<div class="line">&lt;CF Units: days since 2008-09-01 00:00:00 standard&gt;</div>
</div>
<div class="line-block">
<div class="line">data1.item(‘T’).Units=data2.item(‘T’).Units</div>
</div>
<div class="line-block">
<div class="line">data1.item(‘T’).Units</div>
<div class="line">&lt;CF Units: days since 2008-09-01 00:00:00 standard&gt;</div>
</div>
<p>This is because when making a contour or line plot the axes are defined in terms of a linear scale of numbers.  Having two
different linear scales breaks the connection between the data.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3><a href="http://ajheaps.github.io/cf-plot/#">Homepage</a><p></h3>
<h5><a href="http://ajheaps.github.io/cf-plot/gallery.html">Gallery</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/user_guide.html">User Guide</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/training.html">Training material</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/data.html">Data input</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/routines.html">Routines</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/internal_routines.html">Routines - internal</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/advanced.html">Advanced Use</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/versions.html">Versions</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/issues.html">Issues</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/download.html">Download/Install</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/license.html">License</a><p></h5>
<h5><a href="http://ajheaps.github.io/cf-plot/search.html">Search</a><p></h5>
<h5><a href="http://www.met.reading.ac.uk/~swsheaps/cf-plot-2.1.75">Older documentation</a><p></h5>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">cf-plot 2.4.8 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Andy Heaps.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>