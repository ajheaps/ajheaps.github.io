.. currentmodule:: cf
.. default-role:: obj


Example 7 - Regridding
======================


In this example we:

    * Read in a monthly mean temperature dataset
    * Select the data between 1900 and 1980
    * Collapse the data to yearly means
    * Collapse the data to area weighted global average
    * Convert from Kelvin to Celsius.
    * Plot the data


**1.** Read in a monthly mean temperature dataset.

>>> f=cf.read('data4.nc')

This is a global temperature field at 2m for the years 1900 to 1979.


**2.** Select the data between 1900 and 1980.

>>> temp=f.subspace(time=cf.wi(cf.dt('1900-01-01'), cf.dt('1980-01-01')))


**3.** Collapse the data to yearly means.

>>> temp_annual=temp.collapse('T: mean', group=cf.Y())



**4.** Collapse the data to area weighted global average.


>>> temp_annual_global=temp_annual.collapse('area: mean')

Collapsing over 'area: mean' gives a global area average.



**5.** Convert from Kelvin to Celsius.

>>> temp_annual_global.Units -= 273.15



**6.** Plot the data.


>>> cfp.lineplot(temp_annual_global, title='Global average annual temperature', color='blue')

.. image::  images/cf_example7_1.png
   :scale: 80% 



